<!-- Header con información personal -->
<div class="dashboard-hero">
    <h2>Mi Perfil</h2>
    <p>Información personal y configuración de cuenta</p>
</div>

<!-- Información Personal -->
<div class="card">
    <div class="card-title">Información Personal</div>
    <div class="card-body">
        <div class="perfil-info-grid">
            <div class="perfil-campo">
                <label>Código de Empleado</label>
                <div class="perfil-valor" id="perfil-codigo">-</div>
            </div>
            <div class="perfil-campo">
                <label>DPI</label>
                <div class="perfil-valor" id="perfil-dpi">-</div>
            </div>
            <div class="perfil-campo">
                <label>Email</label>
                <div class="perfil-valor" id="perfil-email">-</div>
            </div>
            <div class="perfil-campo">
                <label>Cargo</label>
                <div class="perfil-valor" id="perfil-cargo">-</div>
            </div>
            <div class="perfil-campo">
                <label>Rol</label>
                <div class="perfil-valor" id="perfil-rol">-</div>
            </div>
            <div class="perfil-campo" id="perfil-territorio-container" style="display: none;">
                <label>Territorio</label>
                <div class="perfil-valor" id="perfil-territorio">-</div>
            </div>
        </div>
    </div>
</div>

<!-- Editar Información -->
<div class="card">
    <div class="card-title">Editar Información</div>
    <div class="card-body">
        <form id="form-actualizar-perfil">
            <div class="form-group">
                <label for="edit-nombres">Nombres *</label>
                <input type="text" id="edit-nombres" name="nombres" required>
            </div>
            <div class="form-group">
                <label for="edit-apellidos">Apellidos *</label>
                <input type="text" id="edit-apellidos" name="apellidos" required>
            </div>
            <div class="form-group">
                <label for="edit-telefono">Teléfono</label>
                <input type="tel" id="edit-telefono" name="telefono">
            </div>
            <button type="submit" class="btn btn-primary" id="btn-actualizar-perfil">
                <span id="loading-actualizar" class="loading-spinner" style="display: none;"></span>
                Actualizar Información
            </button>
        </form>
    </div>
</div>

<!-- Cambiar Contraseña -->
<div class="card">
    <div class="card-title">Cambiar Contraseña</div>
    <div class="card-body">
        <form id="form-cambiar-password">
            <div class="form-group">
                <label for="password-actual">Contraseña Actual *</label>
                <input type="password" id="password-actual" name="password_actual" required>
            </div>
            <div class="form-group">
                <label for="password-nueva">Nueva Contraseña *</label>
                <input type="password" id="password-nueva" name="password_nueva" required minlength="6">
                <small class="form-hint">Mínimo 6 caracteres</small>
            </div>
            <div class="form-group">
                <label for="confirmar-password">Confirmar Nueva Contraseña *</label>
                <input type="password" id="confirmar-password" name="confirmar_password" required>
            </div>
            <button type="submit" class="btn btn-primary" id="btn-cambiar-password">
                <span id="loading-password" class="loading-spinner" style="display: none;"></span>
                Cambiar Contraseña
            </button>
        </form>
    </div>
</div>

<!-- Comunidades Asignadas (Solo para auxiliares) -->
<div class="card" id="comunidades-container" style="display: none;">
    <div class="card-title">Comunidades Asignadas</div>
    <div class="card-body">
        <div id="lista-comunidades"></div>
    </div>
</div>

<!-- Estadísticas Personales -->
<div class="card">
    <div class="card-title">Mis Estadísticas 2025</div>
    <div class="card-body">
        <div class="stats-grid" id="estadisticas-personales">
            <div class="stat-card">
                <span class="stat-value" id="stat-registros">0</span>
                <div class="stat-label">Registros Realizados</div>
            </div>
            <div class="stat-card">
                <span class="stat-value" id="stat-usuarias">0</span>
                <div class="stat-label">Usuarias Atendidas</div>
            </div>
            <div class="stat-card">
                <span class="stat-value" id="stat-comunidades">0</span>
                <div class="stat-label">Comunidades</div>
            </div>
            <div class="stat-card">
                <span class="stat-value" id="stat-meses">0</span>
                <div class="stat-label">Meses Activos</div>
            </div>
        </div>
        
        <div class="perfil-detalle-stats">
            <div class="perfil-campo">
                <label>Primer Registro</label>
                <div class="perfil-valor" id="primer-registro">-</div>
            </div>
            <div class="perfil-campo">
                <label>Último Registro</label>
                <div class="perfil-valor" id="ultimo-registro">-</div>
            </div>
        </div>
    </div>
</div>

<!-- Información del Sistema -->
<div class="card">
    <div class="card-title">Información del Sistema</div>
    <div class="card-body">
        <div class="perfil-info-grid">
            <div class="perfil-campo">
                <label>Fecha de Ingreso</label>
                <div class="perfil-valor" id="fecha-ingreso">-</div>
            </div>
            <div class="perfil-campo">
                <label>Último Acceso</label>
                <div class="perfil-valor" id="ultimo-acceso">-</div>
            </div>
            <div class="perfil-campo">
                <label>Permisos del Sistema</label>
                <div class="perfil-valor" id="permisos-sistema">
                    <div id="lista-permisos"></div>
                </div>
            </div>
        </div>
    </div>
</div>